<link rel="import" href="view-home.html">
<link rel="import" href="view-about.html">
<link rel="import" href="posts/view-post1.html">

<dom-module id="blog-app">
  <template>
    <app-location route="{{route}}" use-hash-as-path></app-location>
    <app-route
      route="{{route}}"
      pattern="/:page"
      data="{{routeData}}"
      tail="{{subroute}}"></app-route>

      <iron-pages
        selected="[[page]]"
        attr-for-selected="name"
        fallback-selection="home"
        role="main">
      <view-home name="home"></view-home>
      <view-about name="about"></view-about>
      <view-post1 name="post1"></view-post1>

    </iron-pages>
  </template>

  <script>
    Polymer({
      is: 'blog-app',
      properties: {
        page: {
          type: String,
          reflectToAttribute: true
        }
      },
      observers: [
        '_routePageChanged(routeData.page)'
      ],
      _routePageChanged: function(page) {
        this.page = page || 'home';
      }
    });
  </script>
</dom-module>
